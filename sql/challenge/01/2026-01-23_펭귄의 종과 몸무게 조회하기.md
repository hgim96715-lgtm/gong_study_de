---
aliases: []
tags:
  - SQL_TEST
related:
  - "[[SQL_Filtering_WHERE]]"
  - "[[SQL_ORDER_BY]]"
source:
  - solvesql
difficulty:
  - Lv.1
status: 🟩 해결
---
##  해결 전략 (Code Before Think)

> `penguins` 테이블에서 펭귄의 종, 몸무게 정보가 담긴 열을 출력하는 쿼리를 작성해주세요.
> 펭귄의 종 또는 몸무게 데이터가 없는 개체는 쿼리 결과에서 제외
> 결과는 펭귄의 몸무게가 무거운 순서대로 정렬
> 만약 몸무게가 같다면 펭귄의 종 이름으로 오름차순 정렬

1. **타겟 데이터:** (어떤 테이블에서 무엇을 뽑아야 하는가?)
   - penguins 데이터베이스
1. **조건 분석:**
   - 데이터가 없는 개체는 결과에서 제외 
1. **사용할 문법:**
   - WHERE 
   - IS NOT NULL
---
## 정답 쿼리 (Solution)

```sql
-- 여기에 작성한 쿼리를 붙여넣으세요.
SELECT species, body_mass_g
FROM penguins
WHERE species IS NOT NULL
  AND body_mass_g IS NOT NULL 
ORDER BY body_mass_g DESC, species ASC;
```

---
##  오답 노트 & 배운 점 (Retrospective)

- **내가 실수한 부분:** 처음에 `OR`로 썼음
    - 의미: **종이 있거나 몸무게가 있는 경우** → 둘 중 하나만 있어도 결과에 나옴
    - 결과: 몸무게 없는 펭귄이나 종 없는 펭귄까지 포함 → 의도와 다름
- **올바른 수정:** `AND`로 변경
    - 의미: **종과 몸무게가 모두 존재하는 경우만** → 둘 다 있어야 결과에 포함
    - 결과: 조건에 맞는 데이터만 정확하게 조회

>OR은 “둘 중 하나만 만족해도 됨”, AND는 “둘 다 만족해야 함” 
>→ 우리가 원하는 조건은 **둘 다 존재** → 반드시 AND 사용
---
## 더 나은 풀이가 있다면?

```sql
-- 더 나은 풀이가 있을경우 
SELECT species, body_mass_g
FROM penguins
WHERE NOT (species IS NULL OR body_mass_g IS NULL)
ORDER BY body_mass_g DESC, species ASC;
```

- `NOT (A OR B)` = `NOT A AND NOT B` 

> 드모르간 법칙 -> [[SQL_Filtering_WHERE#B. 논리 연산자 (Logical)|드모르간의 법칙]] 