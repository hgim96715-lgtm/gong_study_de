---
tags:
  - SQL_TEST
related:
  - "[[Aggregation_GROUP_BY]]"
source: solvesql
difficulty:
  - Lv.2
status:
  - 🟩 해결
---
##  해결 전략 (Code Before Think)

> 각 요일의 시간대별 평균 팁은 얼마인지, 평균 일행 수는 몇 명인지 확인하고자 합니다.
> 평균 팁과 평균 일행 수는 소수점 아래 셋째 자리에서 반올림 해 둘째 자리까지 출력하고, 결과 데이터가 요일, 시간대의 알파벳 순으로 정렬되도록 쿼리를 작성해주세요.

1. **타겟 데이터:** (어떤 테이블에서 무엇을 뽑아야 하는가?)
   - `tips` : 테이블 
   - `tip` : 팁
   - `size` : 일행수 
   - `day` : 요일 
   - `time` : 시간대
1. **조건 분석:**
   -  각 요일의 시간대별 
   - 평균 팁 > 소수점 셋째자리에서 반올림
   - 평균 일행수 > 소수점 셋째자리에서 반올림
   - 알파벳 순 정렬
1. **사용할 문법:**
   -  GROUP BY
   - ROUND
   - ORDER BY
---
## 정답 쿼리 (Solution)

```sql
-- 여기에 작성한 쿼리를 붙여넣으세요.
SELECT ROUND(AVG(tip),2) AS avg_tip,ROUND(AVG(size),2)AS avg_size,day,time
FROM tips
GROUP BY day,time
ORDER BY day,time
```

---
##  오답 노트 & 배운 점 (Retrospective)

-  **내가 실수한 부분:**
	- 처음에 `GROUP BY`에는 **컬럼을 하나만 넣을 수 있다고 착각했다**
	- 이 때문에 **서브쿼리를 써야 하나?** 라고 불필요하게 고민했다
-  **새로 알게 된 함수/꿀팁:**
	- `GROUP BY`는 **여러 컬럼을 동시에 사용할 수 있다**

---
## 더 나은 풀이가 있다면?

```sql
-- 더 나은 풀이가 있을경우 
```
