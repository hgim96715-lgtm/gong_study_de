---
tags:
  - SQL_TEST
related:
  - "[[00_SQL_Challenge_DashBoard]]"
  - "[[Window_Functions]]"
source: solvesql
difficulty:
  - Lv.2
status: 🟩 해결
---
##  해결 전략 (Code Before Think)

>`points` 테이블에서 가장 큰 `x` 값을 가지는 데이터와 가장 큰 `y` 값을 가지는 데이터의 `id`를 출력하는 쿼리를 작성해주세요. 
>결과는 오름차순으로 정렬해주세요.

1. **타겟 데이터:** (어떤 테이블에서 무엇을 뽑아야 하는가?)
   - `points` 테이블
   - `x` x좌표
   - `y` y좌표
   - `id` ID
1. **조건 분석:**
   - 가장 큰 x값
   - 가장 큰 y값
1. **사용할 문법:**
   - max
   - WHERE
---
## 정답 쿼리 (Solution)

```sql
-- 여기에 작성한 쿼리를 붙여넣으세요.
SELECT id
FROM points
WHERE x=(SELECT max(x) FROM points) or y=(SELECT max(y) FROM points)
```

---
##  오답 노트 & 배운 점 (Retrospective)

-  **내가 실수한 부분:**
    
-  **새로 알게 된 함수/꿀팁:**

---
## 더 나은 풀이가 있다면?

```sql
-- 더 나은 풀이가 있을경우 
SELECT id
FROM (
    SELECT id,
           MAX(x) OVER () AS max_x,
           MAX(y) OVER () AS max_y,
           x, y
    FROM points
) t
WHERE x = max_x OR y = max_y
ORDER BY id;

```

- **실무(수천만 건 데이터):** 에는 윈도우 함수를 쓰는것이 DB 부하를 줄이는것 ,성능면에서는 더 우수 