---
tags:
  - SQL_TEST
related:
  - "[[Aggregation_GROUP_BY]]"
  - "[[SQL_Date_Functions]]"
source: solvesql
difficulty:
  - Lv.2
status:
  - ðŸŸ¥ ì‹¤íŒ¨
  - ðŸŸ¨ ížŒíŠ¸ì°¸ê³ 
  - ðŸŸ© í•´ê²°
  - ðŸŸ§ ë³µìŠµ
  - ðŸŸ¨ ì§„í–‰ì¤‘
  - ðŸŸª ë³µìŠµí›„ í•´ê²°í•¨
---
##  í•´ê²° ì „ëžµ (Code Before Think)

> 2021ë…„ 8ì›” 2ì¼ë¶€í„° 2021ë…„ 8ì›” 9ì¼ê¹Œì§€ ë‚ ì§œë³„ë¡œ ëª‡ ëª…ì˜ ë°©ë¬¸ìžê°€ ë°©ë¬¸í–ˆëŠ”ì§€ ì•Œê³  ì‹¶ìŠµë‹ˆë‹¤. 
> í•´ë‹¹ ì¼ìž ë‚´ ë¡œê·¸ í…Œì´ë¸”ì— ì´ë²¤íŠ¸ê°€ í•˜ë‚˜ë¼ë„ ê¸°ë¡ ëœ ê²½ìš° ë°©ë¬¸ìžë¡œ ì§‘ê³„í•©ë‹ˆë‹¤. 
> ê¸°ê°„ ë³„ ë°©ë¬¸ìž ìˆ˜ë¥¼ ì¼ë³„ë¡œ ì¶”ì¶œí•˜ëŠ” ì¿¼ë¦¬ë¥¼ ìž‘ì„±í•´ì£¼ì„¸ìš”. 
> ê²°ê³¼ ë°ì´í„°ì—ëŠ” ì•„ëž˜ 2ê°œ ì»¬ëŸ¼ì´ ë“¤ì–´ê°€ì•¼í•˜ë©°, ë°©ë¬¸ì¼ì„ ê¸°ì¤€ìœ¼ë¡œ ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬ë˜ì–´ìžˆì–´ì•¼ í•©ë‹ˆë‹¤.

1. **íƒ€ê²Ÿ ë°ì´í„°:** (ì–´ë–¤ í…Œì´ë¸”ì—ì„œ ë¬´ì—‡ì„ ë½‘ì•„ì•¼ í•˜ëŠ”ê°€?)
   - `ga`Â í…Œì´ë¸”,
   - `event_date_kst` : ì´ë²¤íŠ¸ ë‚ ì§œ 
   - `user_pseudo_id` : ì‚¬ìš©ìžì˜ ê°€ëª…ì²˜ë¦¬ëœ ID
1. **ì¡°ê±´ ë¶„ì„:**
   - 2021ë…„ 8ì›” 2ì¼ë¶€í„° 2021ë…„ 8ì›” 9ì¼ ê¹Œì§€ 
   -  ë¡œê·¸ í…Œì´ë¸”ì— ì´ë²¤íŠ¸ê°€ í•˜ë‚˜ë¼ë„ ê¸°ë¡ ëœ > ì‚¬ìš©ìžì˜ ê°€ëª…ì²˜ë¦¬ëœ ID
   - ì¼ë³„ ì¶”ì¶œ 
1. **ì‚¬ìš©í•  ë¬¸ë²•:**
   - WHERE
   - GROUP BY
   - ::DATE 
---
## ì •ë‹µ ì¿¼ë¦¬ (Solution)

```sql
-- ì—¬ê¸°ì— ìž‘ì„±í•œ ì¿¼ë¦¬ë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”.
SELECT event_date_kst::DATE as dt,COUNT(DISTINCT user_pseudo_id) AS users
FROM ga
WHERE event_date_kst::DATE>='2021-08-02' AND event_date_kst::DATE<'2021-08-10'
GROUP BY event_date_kst::DATE
ORDER BY dt ASC
```

---
##  ì˜¤ë‹µ ë…¸íŠ¸ & ë°°ìš´ ì  (Retrospective)

-  **ë‚´ê°€ ì‹¤ìˆ˜í•œ ë¶€ë¶„:**
	- ì²˜ìŒì— `DISTINCT`ë¥¼ ì•ˆ ë„£ì–´ì„œ, í•œ ë°©ë¬¸ìžê°€ í•˜ë£¨ ë™ì•ˆ ì—¬ëŸ¬ ì´ë²¤íŠ¸ë¥¼ ë°œìƒì‹œì¼°ì„ ê²½ìš° **ì¤‘ë³µìœ¼ë¡œ ì„¸ì–´ë²„ë¦¼**.
	- ë°©ë¬¸ìž ìˆ˜(users)ê°€ ì‹¤ì œë³´ë‹¤ ê³¼ëŒ€ ì§‘ê³„ë¨.    
-  **ìƒˆë¡œ ì•Œê²Œ ëœ í•¨ìˆ˜/ê¿€íŒ:**

---
## ë” ë‚˜ì€ í’€ì´ê°€ ìžˆë‹¤ë©´?

```sql
-- ë” ë‚˜ì€ í’€ì´ê°€ ìžˆì„ê²½ìš° 
```
